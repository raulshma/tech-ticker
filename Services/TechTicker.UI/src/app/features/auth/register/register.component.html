<div class="register-container">
  <div class="register-card">
    <div class="register-header">
      <div class="logo">
        <div class="register-logo-icon">TT</div>
        <h1>TechTicker</h1>
      </div>
      <h2>Create Account</h2>
      <p>Join TechTicker and start tracking tech product prices!</p>
    </div>

    <form nz-form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="register-form">
      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="firstName">First Name</nz-form-label>
        <nz-form-control [nzSm]="14" [nzXs]="24" [nzValidateStatus]="isFieldInvalid('firstName') ? 'error' : ''" [nzErrorTip]="getFieldError('firstName')">
          <input
            nz-input
            formControlName="firstName"
            id="firstName"
            type="text"
            placeholder="Enter your first name"
            [class.ant-input-status-error]="isFieldInvalid('firstName')"
          />
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="lastName">Last Name</nz-form-label>
        <nz-form-control [nzSm]="14" [nzXs]="24" [nzValidateStatus]="isFieldInvalid('lastName') ? 'error' : ''" [nzErrorTip]="getFieldError('lastName')">
          <input
            nz-input
            formControlName="lastName"
            id="lastName"
            type="text"
            placeholder="Enter your last name"
            [class.ant-input-status-error]="isFieldInvalid('lastName')"
          />
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="email">Email</nz-form-label>
        <nz-form-control [nzSm]="14" [nzXs]="24" [nzValidateStatus]="isFieldInvalid('email') ? 'error' : ''" [nzErrorTip]="getFieldError('email')">
          <input
            nz-input
            formControlName="email"
            id="email"
            type="email"
            placeholder="Enter your email"
            [class.ant-input-status-error]="isFieldInvalid('email')"
          />
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="password">Password</nz-form-label>
        <nz-form-control [nzSm]="14" [nzXs]="24" [nzValidateStatus]="isFieldInvalid('password') ? 'error' : ''" [nzErrorTip]="getFieldError('password')">
          <nz-input-group nzSuffix>
            <input
              [type]="passwordVisible ? 'text' : 'password'"
              nz-input
              formControlName="password"
              id="password"
              placeholder="Enter your password"
              [class.ant-input-status-error]="isFieldInvalid('password')"
            />
            <span
              nz-icon
              [nzType]="passwordVisible ? 'eye-invisible' : 'eye'"
              (click)="passwordVisible = !passwordVisible"
              class="password-toggle"
            ></span>
          </nz-input-group>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="confirmPassword">Confirm Password</nz-form-label>
        <nz-form-control [nzSm]="14" [nzXs]="24" [nzValidateStatus]="isFieldInvalid('confirmPassword') ? 'error' : ''" [nzErrorTip]="getFieldError('confirmPassword')">
          <nz-input-group nzSuffix>
            <input
              [type]="confirmPasswordVisible ? 'text' : 'password'"
              nz-input
              formControlName="confirmPassword"
              id="confirmPassword"
              placeholder="Confirm your password"
              [class.ant-input-status-error]="isFieldInvalid('confirmPassword')"
            />
            <span
              nz-icon
              [nzType]="confirmPasswordVisible ? 'eye-invisible' : 'eye'"
              (click)="confirmPasswordVisible = !confirmPasswordVisible"
              class="password-toggle"
            ></span>
          </nz-input-group>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-control [nzOffset]="6" [nzSpan]="18" [nzValidateStatus]="isFieldInvalid('agreeToTerms') ? 'error' : ''" [nzErrorTip]="getFieldError('agreeToTerms')">
          <label nz-checkbox formControlName="agreeToTerms">
            <span>I agree to the <a href="#" target="_blank">Terms of Service</a> and <a href="#" target="_blank">Privacy Policy</a></span>
          </label>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-control [nzSpan]="24">
          <button
            nz-button
            class="register-form-button"
            nzType="primary"
            nzSize="large"
            [nzLoading]="isLoading"
            [disabled]="!registerForm.valid"
            nzBlock
          >
            {{ isLoading ? 'Creating Account...' : 'Create Account' }}
          </button>
        </nz-form-control>
      </nz-form-item>
    </form>

    <div class="register-footer">
      <p>
        Already have an account?
        <a routerLink="/auth/login" class="login-link">Sign in here</a>
      </p>
    </div>
  </div>
</div>
